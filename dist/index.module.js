function n(){return(n=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n}).apply(this,arguments)}var t=!1,r=new Set,e=function(n){r.forEach(function(t){t(n)})},o=function(o,u){var i="string"==typeof o?Array.from(document.querySelectorAll(o)):Array.isArray(o)?o:[o],s=[],c=[],a=new IntersectionObserver(function(n){n.forEach(function(n){n.intersectionRatio>0?(s.forEach(function(t){return t(n.target)}),c.length<=0&&a.unobserve(n.target)):c.forEach(function(t){return t(n.target)})})},u);i.forEach(function(n){a.observe(n)});var f=function(n){return{addClass:function(t){return n.push(function(n){return n.classList.add(t)}),this},removeClass:function(t){return n.push(function(n){return n.classList.remove(t)}),this},toggle:function(t){return n===s?(s.push(function(n){return n.classList.add(t)}),c.push(function(n){return n.classList.remove(t)})):(c.push(function(n){return n.classList.add(t)}),s.push(function(n){return n.classList.remove(t)})),this},do:function(t){return n.push(t),this},end:function(){return n.push(function(){return a.disconnect()}),this}}};return n({},f(s),{onScrollProgress:function(n){return s.push(function(o){var u=document.documentElement.clientHeight,i=o.offsetTop-u,s=o.offsetTop+o.offsetHeight-i,c=function(){var t=(window.pageYOffset||document.documentElement.scrollTop)-i;n(function(n,t,r){if(void 0===r)return Math.min(n,t);if(r<t){var e=[r,t];t=e[0],r=e[1]}return Math.min(Math.max(n,t),r)}(t/s,0,1),o)};o.scrollCallback=c,function(n){r.add(n),t||(window.addEventListener("scroll",e),t=!0)}(c),c()}),c.push(function(n){n.scrollCallback&&function(n){r.delete(n),t&&0===r.size&&(window.removeEventListener("scroll",e),t=!1)}(n.scrollCallback)}),this},else:n({},f(c))})};export{o as onStage};
//# sourceMappingURL=index.module.js.map
